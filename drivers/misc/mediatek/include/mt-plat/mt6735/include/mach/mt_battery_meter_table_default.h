
#define BAT_NTC_10 1
#define BAT_NTC_47 0

#if (BAT_NTC_10 == 1)
#define RBAT_PULL_UP_R             16900
#endif

#if (BAT_NTC_47 == 1)
#define RBAT_PULL_UP_R             61900
#endif

#define RBAT_PULL_UP_VOLT          1800

typedef struct _BATTERY_PROFILE_STRUCT {
	signed int percentage;
	signed int voltage;
} BATTERY_PROFILE_STRUCT, *BATTERY_PROFILE_STRUCT_P;

typedef struct _R_PROFILE_STRUCT {
	signed int resistance;
	signed int voltage;
} R_PROFILE_STRUCT, *R_PROFILE_STRUCT_P;

typedef enum {
	T1_0C,
	T2_25C,
	T3_50C
} PROFILE_TEMPERATURE;

#if (BAT_NTC_10 == 1)
BATT_TEMPERATURE Batt_Temperature_Table[] = {
	{-20, 68237},
	{-15, 53650},
	{-10, 42506},
	{ -5, 33892},
	{  0, 27219},
	{  5, 22021},
	{ 10, 17926},
	{ 15, 14674},
	{ 20, 12081},
	{ 25, 10000},
	{ 30, 8315},
	{ 35, 6948},
	{ 40, 5834},
	{ 45, 4917},
	{ 50, 4161},
	{ 55, 3535},
	{ 60, 3014}
};
#endif

#if (BAT_NTC_47 == 1)
	BATT_TEMPERATURE Batt_Temperature_Table[] = {
	{-20, 483954},
	{-15, 360850},
	{-10, 271697},
	{ -5, 206463},
	{  0, 158214},
	{  5, 122259},
	{ 10, 95227},
	{ 15, 74730},
	{ 20, 59065},
	{ 25, 47000},
	{ 30, 37643},
	{ 35, 30334},
	{ 40, 24591},
	{ 45, 20048},
	{ 50, 16433},
	{ 55, 13539},
	{ 60, 11210}
	};
#endif

// T0 -10C
BATTERY_PROFILE_STRUCT battery_profile_t0[] =
{
	{0, 4307},
	{2, 4279},
	{3, 4260},
	{5, 4242},
	{6, 4225},
	{8, 4209},
	{9, 4193},
	{11 ,4176},
	{12 ,4161},
	{14 ,4144},
	{16 ,4128},
	{17 ,4112},
	{19 ,4097},
	{20 ,4084},
	{22 ,4073},
	{23 ,4062},
	{25 ,4040},
	{26 ,4009},
	{28 ,3980},
	{29 ,3960},
	{31 ,3946},
	{33 ,3935},
	{34 ,3926},
	{36 ,3918},
	{37 ,3910},
	{39 ,3902},
	{40 ,3892},
	{42 ,3882},
	{43 ,3873},
	{45 ,3863},
	{47 ,3853},
	{48 ,3844},
	{50 ,3836},
	{51 ,3827},
	{53 ,3819},
	{54 ,3812},
	{56 ,3805},
	{57 ,3798},
	{59 ,3792},
	{61 ,3786},
	{62 ,3781},
	{64 ,3776},
	{65 ,3772},
	{67 ,3769},
	{68 ,3765},
	{70 ,3761},
	{71 ,3758},
	{73 ,3755},
	{74 ,3751},
	{76 ,3747},
	{78 ,3743},
	{79 ,3738},
	{81 ,3733},
	{82 ,3728},
	{84 ,3722},
	{85 ,3715},
	{87 ,3707},
	{88 ,3699},
	{89 ,3695},
	{90 ,3692},
	{91 ,3689},
	{92 ,3686},
	{93 ,3681},
	{94 ,3677},
	{95 ,3671},
	{96 ,3667},
	{97 ,3665},
	{98 ,3663},
	{99 ,3656},
	{100 ,3649},
	{100 ,3635},
	{100 ,3616}, 
	{100 ,3616}, 
	{100 ,3616}, 
	{100 ,3616}, 
	{100 ,3616}, 
	{100 ,3616}, 
	{100 ,3616}, 
	{100 ,3616}, 
	{100 ,3616}, 
	{100 ,3616}
};            
              
// T1 0C      
BATTERY_PROFILE_STRUCT battery_profile_t1[] =
{             
	{0, 4339},
	{1, 4302},
	{3, 4278},
	{4, 4259},
	{6, 4242},
	{7, 4225},
	{9, 4209},
	{10, 4194},
	{12, 4179},
	{13, 4163},
	{14, 4148},
	{16, 4133},
	{17, 4117},
	{19, 4103},
	{20, 4089},
	{22, 4080},
	{23, 4072},
	{25, 4053},
	{26, 4022},
	{28, 3993},
	{29, 3973},
	{30, 3959},
	{32, 3948},
	{33, 3939},
	{35, 3932},
	{36, 3925},
	{38, 3916},
	{39, 3906},
	{41, 3896},
	{42, 3885},
	{43, 3875},
	{45, 3866},
	{46, 3857},
	{48, 3848},
	{49, 3840},
	{51, 3832},
	{52, 3826},
	{54, 3818},
	{55, 3812},
	{56, 3806},
	{58, 3801},
	{59, 3795},
	{61, 3790},
	{62, 3785},
	{64, 3781},
	{65, 3778},
	{67, 3774},
	{68, 3771},
	{69, 3768},
	{71, 3766},
	{72, 3763},
	{74, 3759},
	{75, 3756},
	{77, 3752},
	{78, 3747},
	{80, 3742},
	{81, 3736},
	{83, 3731},
	{84, 3725},
	{85, 3719},
	{87, 3714},
	{88, 3708},
	{90, 3701},
	{91, 3694},
	{93, 3683},
	{94, 3667},
	{96, 3640},
	{97, 3607},
	{98, 3563},
	{99, 3529},
	{100, 3467},
	{100, 3467},
	{100, 3467},
	{100, 3467},
	{100, 3467},
	{100, 3467},
	{100, 3467},
	{100, 3467},
	{100, 3467},
	{100, 3467},
	{100, 3467}
};     
      
// T2 25C
BATTERY_PROFILE_STRUCT battery_profile_t2[] =
{     
	{0 , 4329},
	{1 , 4298},
	{3 , 4276},
	{4 , 4256},
	{6 , 4238},
	{7 , 4221},
	{9 , 4205},
	{10 , 4188},
	{12 , 4172},
	{13 , 4157},
	{15 , 4142},
	{16 , 4126},
	{17 , 4111},
	{19 , 4096},
	{20 , 4081},
	{22 , 4069},
	{23 , 4062},
	{25 , 4049},
	{26 , 4025},
	{28 , 4002},
	{29 , 3985},
	{30 , 3974},
	{32 , 3967},
	{33 , 3960},
	{35 , 3951},
	{36 , 3941},
	{38 , 3930},
	{39 , 3919},
	{41 , 3908},
	{42 , 3894},
	{44 , 3879},
	{45 , 3865},
	{46 , 3852},
	{48 , 3842},
	{49 , 3833},
	{51 , 3826},
	{52 , 3819},
	{54 , 3813},
	{55 , 3807},
	{57 , 3802},
	{58 , 3797},
	{60 , 3792},
	{61 , 3788},
	{62 , 3784},
	{64 , 3780},
	{65 , 3776},
	{67 , 3773},
	{68 , 3770},
	{70 , 3767},
	{71 , 3764},
	{73 , 3761},
	{74 , 3758},
	{75 , 3754},
	{77 , 3749},
	{78 , 3744},
	{80 , 3738},
	{81 , 3734},
	{83 , 3727},
	{84 , 3719},
	{86 , 3710},
	{87 , 3702},
	{89 , 3689},
	{90 , 3683},
	{91 , 3682},
	{93 , 3680},
	{94 , 3677},
	{96 , 3666},
	{97 , 3612},
	{99 , 3525},
	{100 , 3450},
	{100 , 3450},
	{100 , 3450},
	{100 , 3450},
	{100 , 3450},
	{100 , 3450},
	{100 , 3450},
	{100 , 3450},
	{100 , 3450},
	{100 , 3450},
	{100 , 3450},
	{100 , 3450}
};     
  
/* T3 50C */
BATTERY_PROFILE_STRUCT battery_profile_t3[] = {
	{0 ,4325 },
	{1 ,4301 },
	{3 ,4280 },
	{4 ,4260 },
	{6 ,4242 },
	{7 ,4226 },
	{9 ,4209 },
	{10 ,4192 },
	{12 ,4176 },
	{13 ,4160 },
	{15 ,4144 },
	{16 ,4129 },
	{18 ,4113 },
	{19 ,4099 },
	{20 ,4084 },
	{22 ,4069 },
	{23 ,4055 },
	{25 ,4042 },
	{26 ,4028 },
	{28 ,4014 },
	{29 ,4002 },
	{31 ,3990 },
	{32 ,3978 },
	{34 ,3967 },
	{35 ,3956 },
	{37 ,3945 },
	{38 ,3935 },
	{39 ,3925 },
	{41 ,3914 },
	{42 ,3903 },
	{44 ,3889 },
	{45 ,3871 },
	{47 ,3857 },
	{48 ,3847 },
	{50 ,3838 },
	{51 ,3831 },
	{53 ,3824 },
	{54 ,3818 },
	{56 ,3812 },
	{57 ,3807 },
	{58 ,3802 },
	{60 ,3797 },
	{61 ,3793 },
	{63 ,3789 },
	{64 ,3785 },
	{66 ,3781 },
	{67 ,3778 },
	{69 ,3775 },
	{70 ,3772 },
	{72 ,3766 },
	{73 ,3757 },
	{75 ,3748 },
	{76 ,3744 },
	{77 ,3739 },
	{79 ,3733 },
	{80 ,3728 },
	{82 ,3723 },
	{83 ,3717 },
	{85 ,3708 },
	{86 ,3699 },
	{88 ,3690 },
	{89 ,3678 },
	{91 ,3676 },
	{92 ,3675 },
	{94 ,3673 },
	{95 ,3669 },
	{96 ,3640 },
	{98 ,3574 },
	{99 ,3475 },
	{100 ,3450 },
	{100 ,3450 },
	{100 ,3450 },
	{100 ,3450 },
	{100 ,3450 },
	{100 ,3450 },
	{100 ,3450 },
	{100 ,3450 },
	{100 ,3450 },
	{100 ,3450 },
	{100 ,3450 },
	{100 ,3450 }
};

/* battery profile for actual temperature. The size should be the same as T1, T2 and T3 */
BATTERY_PROFILE_STRUCT battery_profile_temperature[] = {
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 },
		{0  , 0 }
};

/* T0 -10C */
R_PROFILE_STRUCT r_profile_t0[] = {
	{690, 4307 },
	{690, 4279 },
	{692, 4260 },
	{691, 4242 },
	{689, 4225 },
	{583, 4209 },
	{680, 4193 },
	{682, 4176 },
	{679, 4161 },
	{678, 4144 },
	{675, 4128 },
	{673, 4112 },
	{670, 4097 },
	{671, 4084 },
	{676, 4073 },
	{685, 4062 },
	{682, 4040 },
	{667, 4009 },
	{655, 3980 },
	{651, 3960 },
	{650, 3946 },
	{650, 3935 },
	{651, 3926 },
	{653, 3918 },
	{654, 3910 },
	{652, 3902 },
	{651, 3892 },
	{650, 3882 },
	{650, 3873 },
	{650, 3863 },
	{649, 3853 },
	{650, 3844 },
	{650, 3836 },
	{652, 3827 },
	{653, 3819 },
	{655, 3812 },
	{657, 3805 },
	{659, 3798 },
	{660, 3792 },
	{662, 3786 },
	{665, 3781 },
	{668, 3776 },
	{670, 3772 },
	{675, 3769 },
	{643, 3765 },
	{680, 3761 },
	{685, 3758 },
	{694, 3755 },
	{699, 3751 },
	{704, 3747 },
	{716, 3743 },
	{726, 3738 },
	{738, 3733 },
	{751, 3728 },
	{768, 3722 },
	{782, 3715 },
	{805, 3707 },
	{830, 3699 },
	{825, 3695 },
	{820, 3692 },
	{815, 3689 },
	{811, 3686 },
	{803, 3681 },
	{796, 3677 },
	{786, 3671 },
	{775, 3667 },
	{762, 3665 },
	{750, 3663 },
	{694, 3656 },
	{694, 3649 },
	{694, 3635 },
	{694, 3616 },
	{694, 3616 },
	{694, 3616 },
	{694, 3616 },
	{694, 3616 },
	{694, 3616 },
	{694, 3616 },
	{694, 3616 },
	{694, 3616 },
	{694, 3616 }
};

/* T1 0C */
R_PROFILE_STRUCT r_profile_t1[] = {
	{388, 4339},
	{388, 4302},
	{390, 4278},
	{393, 4259},
	{392, 4242},
	{393, 4225},
	{392, 4209},
	{392, 4194},
	{393, 4179},
	{394, 4163},
	{394, 4148},
	{397, 4133},
	{396, 4117},
	{395, 4103},
	{394, 4089},
	{400, 4080},
	{408, 4072},
	{409, 4053},
	{396, 4022},
	{391, 3993},
	{387, 3973},
	{384, 3959},
	{386, 3948},
	{385, 3939},
	{387, 3932},
	{386, 3925},
	{385, 3916},
	{382, 3906},
	{379, 3896},
	{379, 3885},
	{378, 3875},
	{378, 3866},
	{377, 3857},
	{377, 3848},
	{376, 3840},
	{377, 3832},
	{377, 3826},
	{380, 3818},
	{380, 3812},
	{381, 3806},
	{383, 3801},
	{382, 3795},
	{382, 3790},
	{384, 3785},
	{386, 3781},
	{388, 3778},
	{387, 3774},
	{389, 3771},
	{391, 3768},
	{393, 3766},
	{396, 3763},
	{399, 3759},
	{401, 3756},
	{405, 3752},
	{408, 3747},
	{412, 3742},
	{416, 3736},
	{421, 3731},
	{430, 3725},
	{436, 3719},
	{447, 3714},
	{462, 3708},
	{481, 3701},
	{508, 3694},
	{542, 3683},
	{584, 3667},
	{643, 3640},
	{680, 3607},
	{607, 3563},
	{549, 3529},
	{445, 3467},
	{445, 3467},
	{445, 3467},
	{445, 3467},
	{445, 3467},
	{445, 3467},
	{445, 3467},
	{445, 3467},
	{445, 3467},
	{445, 3467},
	{445, 3467}
};

/* T2 25C */
R_PROFILE_STRUCT r_profile_t2[] = {
	{81 , 4329},
	{81 , 4298},
	{82 , 4276},
	{82 , 4256},
	{81 , 4238},
	{82 , 4221},
	{83 , 4205},
	{83 , 4188},
	{85 , 4172},
	{85 , 4157},
	{87 , 4142},
	{87 , 4126},
	{89 , 4111},
	{91 , 4096},
	{92 , 4081},
	{93 , 4069},
	{99 , 4062},
	{100 , 4049},
	{97 , 4025},
	{97 , 4002},
	{100 , 3985},
	{102 , 3974},
	{105 , 3967},
	{107 , 3960},
	{108 , 3951},
	{108 , 3941},
	{111 , 3930},
	{111 , 3919},
	{110 , 3908},
	{105 , 3894},
	{99 , 3879},
	{92 , 3865},
	{85 , 3852},
	{83 , 3842},
	{82 , 3833},
	{84 , 3826},
	{82 , 3819},
	{83 , 3813},
	{83 , 3807},
	{83 , 3802},
	{84 , 3797},
	{85 , 3792},
	{85 , 3788},
	{86 , 3784},
	{87 , 3780},
	{88 , 3776},
	{88 , 3773},
	{88 , 3770},
	{87 , 3767},
	{88 , 3764},
	{86 , 3761},
	{87 , 3758},
	{86 , 3754},
	{85 , 3749},
	{84 , 3744},
	{83 , 3738},
	{84 , 3734},
	{85 , 3727},
	{83 , 3719},
	{84 , 3710},
	{86 , 3702},
	{84 , 3689},
	{83 , 3683},
	{86 , 3682},
	{90 , 3680},
	{99 , 3677},
	{107 , 3666},
	{99 , 3612},
	{110 , 3525},
	{139 , 3450},
	{139 , 3450},
	{139 , 3450},
	{139 , 3450},
	{139 , 3450},
	{139 , 3450},
	{139 , 3450},
	{139 , 3450},
	{139 , 3450},
	{139 , 3450},
	{139 , 3450},
	{139 , 3450}
};   
     
/* T3 50C */
R_PROFILE_STRUCT r_profile_t3[] = {
	{44,4325},
	{44,4301},
	{45,4280},
	{43,4260},
	{44,4242},
	{44,4226},
	{44,4209},
	{45,4192},
	{44,4176},
	{45,4160},
	{45,4144},
	{46,4129},
	{46,4113},
	{47,4099},
	{48,4084},
	{47,4069},
	{49,4055},
	{49,4042},
	{49,4028},
	{50,4014},
	{51,4002},
	{52,3990},
	{53,3978},
	{54,3967},
	{55,3956},
	{57,3945},
	{61,3935},
	{62,3925},
	{63,3914},
	{65,3903},
	{62,3889},
	{53,3871},
	{47,3857},
	{45,3847},
	{45,3838},
	{44,3831},
	{45,3824},
	{45,3818},
	{44,3812},
	{46,3807},
	{46,3802},
	{47,3797},
	{47,3793},
	{48,3789},
	{48,3785},
	{50,3781},
	{50,3778},
	{51,3775},
	{53,3772},
	{51,3766},
	{44,3757},
	{43,3748},
	{44,3744},
	{44,3739},
	{43,3733},
	{44,3728},
	{45,3723},
	{45,3717},
	{45,3708},
	{45,3699},
	{46,3690},
	{44,3678},
	{46,3676},
	{47,3675},
	{50,3673},
	{55,3669},
	{51,3640},
	{54,3574},
	{63,3475},
	{92,3450},
	{92,3450},
	{92,3450},
	{92,3450},
	{92,3450},
	{92,3450},
	{92,3450},
	{92,3450},
	{92,3450},
	{92,3450},
	{92,3450},
	{92,3450}
};
  
/* r-table profile for actual temperature. The size should be the same as T1, T2 and T3 */
R_PROFILE_STRUCT r_profile_temperature[] = {
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0}
};       
         
/* ============================================================
// function prototype
// ============================================================*/
int fgauge_get_saddles(void);
BATTERY_PROFILE_STRUCT_P fgauge_get_profile(unsigned int temperature);
         
int fgauge_get_saddles_r_table(void);
R_PROFILE_STRUCT_P fgauge_get_profile_r_table(unsigned int temperature);
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         
