
#define BAT_NTC_10 1
#define BAT_NTC_47 0

#if (BAT_NTC_10 == 1)
#define RBAT_PULL_UP_R             16900
#endif

#if (BAT_NTC_47 == 1)
#define RBAT_PULL_UP_R             61900
#endif

#define RBAT_PULL_UP_VOLT          1800

typedef struct _BATTERY_PROFILE_STRUCT {
	signed int percentage;
	signed int voltage;
} BATTERY_PROFILE_STRUCT, *BATTERY_PROFILE_STRUCT_P;

typedef struct _R_PROFILE_STRUCT {
	signed int resistance;
	signed int voltage;
} R_PROFILE_STRUCT, *R_PROFILE_STRUCT_P;

typedef enum {
	T1_0C,
	T2_25C,
	T3_50C
} PROFILE_TEMPERATURE;

#if (BAT_NTC_10 == 1)
BATT_TEMPERATURE Batt_Temperature_Table[] = {
	{-20, 68237},
	{-15, 53650},
	{-10, 42506},
	{ -5, 33892},
	{  0, 27219},
	{  5, 22021},
	{ 10, 17926},
	{ 15, 14674},
	{ 20, 12081},
	{ 25, 10000},
	{ 30, 8315},
	{ 35, 6948},
	{ 40, 5834},
	{ 45, 4917},
	{ 50, 4161},
	{ 55, 3535},
	{ 60, 3014}
};
#endif

#if (BAT_NTC_47 == 1)
	BATT_TEMPERATURE Batt_Temperature_Table[] = {
	{-20, 483954},
	{-15, 360850},
	{-10, 271697},
	{ -5, 206463},
	{  0, 158214},
	{  5, 122259},
	{ 10, 95227},
	{ 15, 74730},
	{ 20, 59065},
	{ 25, 47000},
	{ 30, 37643},
	{ 35, 30334},
	{ 40, 24591},
	{ 45, 20048},
	{ 50, 16433},
	{ 55, 13539},
	{ 60, 11210}
	};
#endif

/* T0 -10C*/
BATTERY_PROFILE_STRUCT battery_profile_t0[] = {
{0   ,4337 },
{2   ,4315 },
{3   ,4297 },
{5   ,4280 },
{6   ,4265 },
{8   ,4249 },
{9   ,4233 },
{11 ,4218 },
{13 ,4203 },
{14 ,4189 },
{16 ,4178 },
{17 ,4160 },
{19 ,4130 },
{21 ,4101 },
{22 ,4078 },
{24 ,4059 },
{25 ,4041 },
{27 ,4020 },
{28 ,3996 },
{30 ,3972 },
{32 ,3951 },
{33 ,3936 },
{35 ,3923 },
{36 ,3910 },
{38 ,3899 },
{39 ,3888 },
{41 ,3878 },
{43 ,3869 },
{44 ,3861 },
{46 ,3854 },
{47 ,3847 },
{49 ,3840 },
{51 ,3833 },
{52 ,3828 },
{54 ,3822 },
{55 ,3817 },
{57 ,3811 },
{58 ,3806 },
{60 ,3802 },
{62 ,3797 },
{63 ,3793 },
{65 ,3789 },
{66 ,3784 },
{68 ,3780 },
{69 ,3775 },
{71 ,3770 },
{73 ,3765 },
{74 ,3760 },
{76 ,3754 },
{77 ,3749 },
{79 ,3743 },
{81 ,3737 },
{82 ,3730 },
{84 ,3724 },
{85 ,3717 },
{87 ,3708 },
{88 ,3699 },
{90 ,3689 },
{92 ,3676 },
{93 ,3659 },
{95 ,3633 },
{96 ,3597 },
{98 ,3543 },
{99 ,3457 },
{100,3400},
{100,3400},
{100,3400},
{100,3400},
{100,3400},
{100,3400},
{100,3400},
{100,3400},
{100,3400},
{100,3400},
{100,3400},
{100,3400},
{100,3400},
{100,3400},
{100,3400},
{100,3400},
{100,3400},
};

/* T1 0C */
BATTERY_PROFILE_STRUCT battery_profile_t1[] ={
 {0  ,4345 },
 {1  ,4326 },
 {3  ,4309 },
 {4  ,4293 },
 {5  ,4279 },
 {7  ,4263 },
 {8  ,4247 },
 {10,4228 },
 {11,4203 },
 {12,4167 },
 {14,4135 },
 {15,4115 },
 {16,4100 },
 {18,4089 },
 {19,4080 },
 {21,4067 },
 {22,4046 },
 {23,4023 },
 {25,4002 },
 {26,3984 },
 {27,3971 },
 {29,3961 },
 {30,3951 },
 {31,3943 },
 {33,3933 },
 {34,3923 },
 {36,3913 },
 {37,3903 },
 {38,3894 },
 {40,3884 },
 {41,3875 },
 {42,3866 },
 {44,3858 },
 {45,3850 },
 {46,3842 },
 {48,3835 },
 {49,3828 },
 {51,3822 },
 {52,3816 },
 {53,3811 },
 {55,3805 },
 {56,3800 },
 {57,3796 },
 {59,3791 },
 {60,3787 },
 {62,3783 },
 {63,3779 },
 {64,3775 },
 {66,3773 },
 {67,3770 },
 {68,3767 },
 {70,3765 },
 {71,3762 },
 {72,3758 },
 {74,3754 },
 {75,3750 },
 {77,3745 },
 {78,3740 },
 {79,3734 },
 {81,3728 },
 {82,3723 },
 {83,3718 },
 {85,3713 },
 {86,3708 },
 {88,3703 },
 {89,3696 },
 {90,3688 },
 {92,3677 },
 {93,3661 },
 {94,3640 },
 {96,3610 },
 {97,3570 },
 {98,3513 },
{100,3424},
{100,3424},
{100,3424},
{100,3424},
{100,3424},
{100,3424},
{100,3424},
{100,3424},
};

/* T2 25C*/
BATTERY_PROFILE_STRUCT battery_profile_t2[] = {
{0   ,4341 },
{1   ,4321 },
{3   ,4305 },
{4   ,4289 },
{5   ,4276 },
{6   ,4260 },
{8   ,4247 },
{9   ,4232 },
{10 ,4218 },
{12 ,4204 },
{13 ,4191 },
{14 ,4177 },
{15 ,4164 },
{17 ,4151 },
{18 ,4138 },
{19 ,4125 },
{20 ,4111 },
{22 ,4099 },
{23 ,4087 },
{24 ,4080 },
{26 ,4071 },
{27 ,4054 },
{28 ,4035 },
{29 ,4019 },
{31 ,4007 },
{32 ,3999 },
{33 ,3990 },
{35 ,3982 },
{36 ,3972 },
{37 ,3961 },
{38 ,3950 },
{40 ,3937 },
{41 ,3923 },
{42 ,3910 },
{44 ,3898 },
{45 ,3890 },
{46 ,3880 },
{47 ,3872 },
{49 ,3865 },
{50 ,3860 },
{51 ,3852 },
{52 ,3846 },
{54 ,3840 },
{55 ,3835 },
{56 ,3830 },
{58 ,3825 },
{59 ,3821 },
{60 ,3816 },
{61 ,3812 },
{63 ,3807 },
{64 ,3804 },
{65 ,3799 },
{67 ,3795 },
{68 ,3792 },
{69 ,3787 },
{70 ,3783 },
{72 ,3779 },
{73 ,3774 },
{74 ,3770 },
{76 ,3767 },
{77 ,3762 },
{78 ,3757 },
{79 ,3753 },
{81 ,3749 },
{82 ,3743 },
{83 ,3737 },
{85 ,3729 }, 
{86 ,3722 },
{87 ,3713 },
{88 ,3703 },
{90 ,3700 },
{91 ,3699 },
{92 ,3696 },
{93 ,3696 },
{95 ,3690 },
{96 ,3669 },
{97 ,3617 },
{99 ,3542 },
{100,3425}, 
{100,3425}, 
{100,3425}, 
};

/* T3 50C*/
BATTERY_PROFILE_STRUCT battery_profile_t3[] = {
{0  ,4347 },
{1  ,4332 },
{3  ,4317 },
{4  ,4302 },
{5  ,4287 },
{6  ,4273 },
{8  ,4258 },
{9  ,4244 },
{10,4230 },
{12,4216 },
{13,4202 },
{14,4189 },
{15,4175 },
{17,4161 },
{18,4147 },
{19,4134 },
{20,4121 },
{22,4108 },
{23,4095 },
{24,4082 },
{26,4070 },
{27,4058 },
{28,4047 },
{29,4034 },
{31,4020 },
{32,4009 },
{33,3999 },
{35,3988 },
{36,3977 },
{37,3967 },
{38,3955 },
{40,3943 },
{41,3929 },
{42,3914 },
{43,3901 },
{45,3890 },
{46,3881 },
{47,3873 },
{49,3865 },
{50,3858 },
{51,3851 },
{52,3845 },
{54,3838 },
{55,3832 },
{56,3826 },
{58,3821 },
{59,3816 },
{60,3810 },
{61,3806 },
{63,3801 },
{64,3797 },
{65,3792 },
{66,3788 },
{68,3784 },
{69,3779 },
{70,3773 },
{72,3764 },
{73,3757 },
{74,3751 },
{75,3745 },
{77,3739 },
{78,3734 },
{79,3729 },
{81,3725 },
{82,3720 },
{83,3714 },
{84,3706 }, 
{86,3700 },
{87,3692 },
{88,3683 },
{90,3680 },
{91,3678 },
{92,3676 },
{93,3674 },
{95,3668 },
{96,3646 },
{97,3597 },
{98,3530 },
{100,3433}, 
{100,3433}, 
{100,3433}, 
};
BATTERY_PROFILE_STRUCT battery_profile_temperature[] = {
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
};
/* ============================================================*/
/* <Rbat, Battery_Voltage> Table*/
/* ============================================================*/
/* T0 -10C*/
R_PROFILE_STRUCT r_profile_t0[] = {
{198,4337 },
{198,4315 },
{205,4297 },
{208,4280 },
{213,4265 },
{216,4249 },
{217,4233 },
{220,4218 },
{223,4203 },
{227,4189 },
{251,4178 },
{278,4160 },
{290,4130 },
{299,4101 },
{314,4078 },
{340,4059 },
{376,4041 },
{418,4020 },
{465,3996 },
{514,3972 },
{560,3951 },
{576,3936 },
{578,3923 },
{577,3910 },
{576,3899 },
{574,3888 },
{573,3878 },
{573,3869 },
{573,3861 },
{574,3854 },
{574,3847 },
{576,3840 },
{577,3833 },
{579,3828 },
{581,3822 },
{584,3817 },
{585,3811 },
{587,3806 },
{591,3802 },
{594,3797 },
{599,3793 },
{604,3789 },
{608,3784 },
{612,3780 },
{619,3775 },
{625,3770 },
{633,3765 },
{642,3760 },
{650,3754 },
{659,3749 },
{673,3743 },
{684,3737 },
{699,3730 },
{714,3724 },
{733,3717 },
{751,3708 },
{775,3699 },
{801,3689 },
{828,3676 },
{857,3659 },
{888,3633 },
{925,3597 },
{968,3543 },
{1033,3457},
{740,3400},
{740,3400},
{740,3400},
{740,3400},
{740,3400},
{740,3400},
{740,3400},
{740,3400},
{740,3400},
{740,3400},
{740,3400},
{740,3400},
{740,3400},
{740,3400},
{740,3400},
{740,3400},
{740,3400},
};

/* T1 0C*/
R_PROFILE_STRUCT r_profile_t1[] = {
{117,4345 },
{117,4326 },
{119,4309 },
{122,4293 },
{124,4279 },
{127,4263 },
{135,4247 },
{150,4228 },
{173,4203 },
{206,4167 },
{244,4135 },
{264,4115 },
{269,4100 },
{275,4089 },
{285,4080 },
{291,4067 },
{294,4046 },
{292,4023 },
{289,4002 },
{287,3984 },
{289,3971 },
{289,3961 },
{289,3951 },
{292,3943 },
{292,3933 },
{289,3923 },
{287,3913 },
{285,3903 },
{284,3894 },
{282,3884 },
{281,3875 },
{279,3866 },
{279,3858 },
{278,3850 },
{277,3842 },
{278,3835 },
{278,3828 },
{279,3822 },
{279,3816 },
{281,3811 },
{282,3805 },
{282,3800 },
{283,3796 },
{283,3791 },
{283,3787 },
{284,3783 },
{285,3779 },
{285,3775 },
{285,3773 },
{285,3770 },
{288,3767 },
{289,3765 },
{290,3762 },
{291,3758 },
{293,3754 },
{294,3750 },
{296,3745 },
{299,3740 },
{302,3734 },
{305,3728 },
{308,3723 },
{314,3718 },
{322,3713 },
{333,3708 },
{351,3703 },
{372,3696 },
{395,3688 },
{426,3677 },
{460,3661 },
{499,3640 },
{551,3610 },
{614,3570 },
{694,3513 },
{824,3424},
{824,3424},
{824,3424},
{824,3424},
{824,3424},
{824,3424},
{824,3424},
{824,3424},
};

/* T2 25C*/
R_PROFILE_STRUCT r_profile_t2[] = {
{85,4341 },
{85,4321 },
{88,4305 },
{87,4289 },
{89,4276 },
{88,4260 },
{91,4247 },
{90,4232 },
{90,4218 },
{91,4204 },
{92,4191 },
{92,4177 },
{94,4164 },
{94,4151 },
{97,4138 },
{96,4125 },
{97,4111 },
{100,4099},
{101,4087},
{104,4080},
{109,4071},
{103,4054},
{106,4035},
{107,4019},
{109,4007},
{114,3999},
{116,3990},
{118,3982},
{116,3972},
{115,3961},
{112,3950},
{108,3937},
{103,3923},
{96,3910 },
{91,3898 },
{92,3890 },
{88,3880 },
{89,3872 },
{87,3865 },
{91,3860 },
{87,3852 },
{89,3846 },
{88,3840 },
{90,3835 },
{90,3830 },
{90,3825 },
{92,3821 },
{92,3816 },
{93,3812 },
{93,3807 },
{94,3804 },
{94,3799 },
{93,3795 },
{96,3792 },
{94,3787 },
{94,3783 },
{94,3779 },
{91,3774 },
{91,3770 },
{93,3767 },
{89,3762 },
{89,3757 },
{89,3753 },
{88,3749 },
{89,3743 },
{90,3737 },
{89,3729 }, 
{90,3722 },
{89,3713 },
{87,3703 },
{88,3700 },
{89,3699 },
{92,3696 },
{99,3696 },
{103,3690 },
{101,3669 },
{98,3617 },
{102,3542 },
{140,3425}, 
{140,3425}, 
{140,3425}, 
};

/* T3 50C*/
R_PROFILE_STRUCT r_profile_t3[] = {
{51,4347 },
{51,4332 },
{52,4317 },
{52,4302 },
{52,4287 },
{52,4273 },
{52,4258 },
{52,4244 },
{53,4230 },
{53,4216 },
{54,4202 },
{56,4189 },
{55,4175 },
{56,4161 },
{56,4147 },
{57,4134 },
{56,4121 },
{57,4108 },
{58,4095 },
{60,4082 },
{61,4070 },
{62,4058 },
{64,4047 },
{62,4034 },
{63,4020 },
{65,4009 },
{68,3999 },
{68,3988 },
{67,3977 },
{70,3967 },
{70,3955 },
{68,3943 },
{65,3929 },
{60,3914 },
{56,3901 },
{56,3890 },
{54,3881 },
{53,3873 },
{53,3865 },
{53,3858 },
{53,3851 },
{54,3845 },
{53,3838 },
{56,3832 },
{55,3826 },
{57,3821 },
{58,3816 },
{58,3810 },
{59,3806 },
{61,3801 },
{61,3797 },
{62,3792 },
{63,3788 },
{64,3784 },
{62,3779 },
{61,3773 },
{55,3764 },
{56,3757 },
{56,3751 },
{56,3745 },
{55,3739 },
{56,3734 },
{56,3729 },
{57,3725 },
{58,3720 },
{58,3714 },
{56,3706 }, 
{57,3700 },
{57,3692 },
{54,3683 },
{54,3680 },
{56,3678 },
{60,3676 },
{66,3674 },
{70,3668 },
{62,3646 },
{61,3597 },
{63,3530 },
{71,3433}, 
{71,3433}, 
{71,3433}, 
};

/* r-table profile for actual temperature. The size should be the same as T1, T2 and T3*/
R_PROFILE_STRUCT r_profile_temperature[] = {
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
  {0, 0},
};

/* ============================================================
// function prototype
// ============================================================*/
int fgauge_get_saddles(void);
BATTERY_PROFILE_STRUCT_P fgauge_get_profile(unsigned int temperature);
         
int fgauge_get_saddles_r_table(void);
R_PROFILE_STRUCT_P fgauge_get_profile_r_table(unsigned int temperature);

